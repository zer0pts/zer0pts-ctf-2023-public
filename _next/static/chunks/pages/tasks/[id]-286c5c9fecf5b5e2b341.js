(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[484],{6847:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var t=r(4096),s=r(8017),i=r(5754),o=r(5893),c=function(){return(0,o.jsx)(t.k,{h:"100%",justifyContent:"center",alignItems:"center",children:(0,o.jsx)(s.xu,{w:"md",mx:"auto",children:(0,o.jsx)(i.$,{size:"xl"})})})}},7457:function(e,n,r){"use strict";var t=r(3154),s=r(8243),i=r(2503);n.Z=function(e){return s.s?(0,t.s)(e):(0,i.ZP)("/tasks")}},9166:function(e,n,r){"use strict";r.d(n,{Az:function(){return s},_d:function(){return i},JF:function(){return o}});var t=r(6486),s=function(e,n){return e.filter((function(e){return""===n||(!!e.name.includes(n)||(!!e.category.includes(n)||(!!e.author.includes(n)||!!e.tags.some((function(e){return e.includes(n)})))))}))},i=function(e){return(0,t.orderBy)(e,[function(e){return e.score},function(e){return e.solved_by.length}],["asc","desc"])},o=function(e){return function(n){return n.solved_by.map((function(e){return e.team_id})).includes((null===e||void 0===e?void 0:e.team_id)||0)}}},397:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return U},default:function(){return X}});var t=r(266),s=r(809),i=r.n(s),o=r(1163),c=r(6847),l=r(3139),u=r(7457),a=function(e){var n=e.endsWith("/")?e.slice(0,-1):e,r=n.split("/");return 1===r.length?n:r.slice(0,-1).join("/")},d=r(8668),x=r(2283),f=r(3154),h=r(9166),j=r(7294),p=r(26),g=r(2809),v=r(3789),m=r(4860),b=r(6829),k=r(6034),y=r(336),_=r(4096),S=r(8017),w=r(5528),O=r(70),Z=r(7442),z=r(4115),C=r(9444),P=r(9398),T=r(7625),D=r(1664),E=r(2523),F=(0,r(980).chakra)(_.k,{baseStyle:{flexDirection:"row-reverse",w:"100%"}}),I=r(5893);function N(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function q(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?N(Object(r),!0).forEach((function(n){(0,g.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var A=function(e){var n=e.task,r=e.registerFlag,t=e.onFlagSubmit,s=e.onClose,i=(0,m.q)().onClose;return(0,I.jsxs)(b.u_,{isOpen:!0,onClose:function(){i(),s()},size:"4xl",children:[(0,I.jsx)(b.ZA,{}),(0,I.jsx)(b.hz,{sx:{backgroundColor:"#ffffff"},children:(0,I.jsx)(b.fe,{children:(0,I.jsxs)(k.Kq,{spacing:1,color:"#000",children:[(0,I.jsx)(y.X,{as:"h2",fontSize:"3xl",children:n.name}),(0,I.jsxs)(_.k,{children:[(0,I.jsxs)(k.Kq,{w:"70%",pl:1,spacing:1,children:[(0,I.jsx)(E.Z,{tags:n.category?[n.category].concat((0,v.Z)(n.tags)):n.tags}),(0,I.jsxs)(k.Ug,{children:[(0,I.jsxs)(S.xu,{color:"#000",children:[(0,I.jsx)(S.xu,{fontSize:"2xl",sx:{display:"inline"},children:n.score}),"pts"]}),(0,I.jsxs)(S.xu,{color:"#000",children:[(0,I.jsx)(S.xu,{fontSize:"2xl",sx:{display:"inline"},children:n.solved_by.length}),"solves"]})]}),(0,I.jsx)(S.xu,{sx:{a:{color:"blue.300"},"a:focus":{outline:"none"}},dangerouslySetInnerHTML:{__html:n.description}}),(0,I.jsx)(k.Ug,{minH:"4em",children:n.attachments.map((function(e){return(0,I.jsx)("a",{href:e.url,download:!0,children:(0,I.jsxs)(w.Vp,{colorScheme:"blackAlpha",variant:"solid",maxW:"10em",children:[(0,I.jsx)(T.G,{icon:P.q7m}),(0,I.jsx)(w.Sn,{isTruncated:!0,children:e.name})]})},e.url)}))}),n.author&&(0,I.jsxs)(F,{children:["author: ",n.author]}),(0,I.jsx)("form",{onSubmit:t,children:(0,I.jsxs)(k.Ug,{children:[(0,I.jsx)(O.I,q({id:"flag",placeholder:"zer0pts{...}",variant:"flushed",sx:{borderColor:"blue.300","&::placeholder":{color:"#999"}}},r("flag",{required:!0}))),(0,I.jsx)(Z.z,{type:"submit",colorScheme:"blue",variant:"solid",children:"Submit"})]})})]}),(0,I.jsx)(S.xu,{w:"30%",pl:1,sx:{overflowY:"auto"},children:(0,I.jsxs)(k.Kq,{spacing:1,h:"0",children:[(0,I.jsxs)(z.x,{fontSize:"xl",children:["solved by (",n.solved_by.length,")"]}),(0,I.jsx)(S.xu,{pl:2,children:n.solved_by.map((function(e){return(0,I.jsx)(z.x,{fontSize:"sm",sx:{"&:hover":{textDecoration:"underline"}},children:(0,I.jsx)(C.r,{as:D.default,href:"/teams/".concat(e.team_id),children:e.team_name})},e.team_name)}))})]})})]})]})})})]})},U=!0,X=function(e){var n=e.taskID,r=e.tasks,s=(0,o.useRouter)(),g=(0,u.Z)(r),v=g.data,m=g.mutate,b=(0,l.Z)(null).data,k=(0,d.Z)(),y=k.message,_=k.error,S=(0,x.cI)(),w=S.register,O=S.handleSubmit,Z=(0,j.useCallback)((0,h.JF)(b||null),[b]);if(!v||void 0===b)return(0,I.jsx)(c.Z,{});var z=function(){var e=(0,t.Z)(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.hi.post("/submit",{flag:n.flag});case 3:r=e.sent,y(r),m(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),_(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),C=v.filter((function(e){return e.id===n}));if(1!==C.length)return(0,I.jsx)(c.Z,{});var P=C[0],T=a(s.pathname);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(A,{task:P,onClose:function(){return s.push(T,void 0,{scroll:!1,shallow:!0})},registerFlag:w,onFlagSubmit:O(z),isSolved:Z(P)}),(0,I.jsx)(p.Z,{tasks:v,filterTask:h.Az,sortTask:h._d,isSolved:Z})]})}},2523:function(e,n,r){"use strict";var t=r(6034),s=r(5528),i=r(5893);n.Z=function(e){var n=e.tags;return(0,i.jsx)(t.Ug,{children:n.map((function(e){return(0,i.jsx)(s.Vp,{colorScheme:"blackAlpha",variant:"solid",sx:{color:"black",backgroundColor:"#0000001a"},children:e},e)}))})}},26:function(e,n,r){"use strict";r.d(n,{Z:function(){return y}});var t=r(318),s=r(8017),i=r(6729),o=r(6618),c=r(8134),l=r(70),u=r(3663),a=r(4978),d=r(3789),x=r(9444),f=r(336),h=r(58),j=r(4096),p=r(9398),g=r(7625),v=r(1163),m=(r(7294),r(2523)),b=r(5893),k=function(e){var n=e.task,r=e.isSolved,t=(0,v.useRouter)();return(0,b.jsx)(x.r,{onClick:function(){t.push("/tasks/"+n.id,void 0,{scroll:!1,shallow:!0})},sx:{borderRadius:"4px",backgroundColor:"#edf2f7",p:2,filter:r?"brightness(0.7)":"none","&:hover":{textDecoration:"none",filter:"brightness(0.7)",cursor:"pointer"}},children:(0,b.jsxs)(s.xu,{children:[(0,b.jsxs)(f.X,{fontSize:"xl",color:"#000",children:[r&&(0,b.jsx)(h.J,{as:g.G,icon:p.LEp,sx:{color:"#88c4d7",fontSize:"1em"}})," ",n.name]}),(0,b.jsxs)(j.k,{justify:"space-around",m:0,children:[(0,b.jsxs)(s.xu,{color:"#000",children:[(0,b.jsx)(s.xu,{fontSize:"2xl",sx:{display:"inline"},children:n.score}),"pts"]}),(0,b.jsxs)(s.xu,{color:"#000",children:[(0,b.jsx)(s.xu,{fontSize:"2xl",sx:{display:"inline"},children:n.solved_by.length}),"solves"]})]}),(0,b.jsx)(m.Z,{tags:n.category?[n.category].concat((0,d.Z)(n.tags)):n.tags})]})})},y=function(e){var n=e.tasks,r=e.filterTask,d=e.sortTask,x=e.isSolved,f=(0,a._)("showSolved",!0),h=(0,t.Z)(f,2),j=h[0],p=h[1],g=(0,a._)("filterText",""),v=(0,t.Z)(g,2),m=v[0],y=v[1];return(0,b.jsxs)(s.xu,{mt:4,children:[(0,b.jsxs)(s.xu,{children:[(0,b.jsxs)(i.NI,{display:"flex",children:[(0,b.jsx)(o.l,{children:"Show solved tasks"}),(0,b.jsx)(c.r,{isChecked:j,onChange:function(){p((function(e){return!e}))}})]}),(0,b.jsx)(l.I,{placeholder:"filter",value:m,onChange:function(e){return y(e.target.value)}})]}),(0,b.jsx)(u.M,{columns:{sm:1,md:3,lg:5},spacing:4,mt:4,children:d(r(n,m)).map((function(e){var n=x(e);return n&&!j?(0,b.jsx)(b.Fragment,{}):(0,b.jsx)(k,{task:e,isSolved:n},e.id)}))})]})}},9474:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tasks/[id]",function(){return r(397)}])}},function(e){e.O(0,[662,851,889,15,774,888,179],(function(){return n=9474,e(e.s=n);var n}));var n=e.O();_N_E=n}]);